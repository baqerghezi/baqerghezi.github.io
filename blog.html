<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Optics & Photonics Insights - Mohammad Al Baqer Alghezi</title>
    <meta name="description" content="Explore blog posts by Mohammad Al Baqer Alghezi covering topics in optical engineering, photonics, PhD research, data analysis (Python/MATLAB), and technology trends.">
    <meta name="keywords" content="optics blog, photonics, electro-optics, optical engineering, PhD student, research, MATLAB, Python, data analysis, University of Dayton, Mohammad Al Baqer Alghezi">
    <link rel="canonical" href="https://baqerghezi.github.io/blog.html"> 
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        /* Define color palette using CSS Custom Properties (Variables) */
        :root {
            --bg-primary: #F8F0E3; /* old-paper equivalent */
            --bg-secondary: #FFFFFF; /* For elements like cards or slightly off-main background areas */
            --text-primary: #4A3B31; /* dark-ink equivalent */
            --text-secondary: #6F5E53; /* Slightly lighter than primary text */
            --border-primary: #D1C0AF; /* Softer brown for borders */
            --accent-primary: #C08261;
            --accent-primary-hover: #A46A4E;
            --shadow-color: rgba(74, 59, 49, 0.1); /* Shadow based on dark-ink */
            --nav-bg: rgba(248, 240, 227, 0.85); /* Slightly transparent old-paper for nav */
        }

        .dark:root {
            --bg-primary: #221E1F; /* Dark background */
            --bg-secondary: #2d2829; /* Slightly lighter dark background for cards */
            --text-primary: #E0D6C7; /* Light ink for dark mode */
            --text-secondary: #B0A69A; /* Slightly darker light ink */
            --border-primary: #5A524C; /* Darker border for dark mode */
            --accent-primary: #D4A187; /* Lighter accent for dark mode */
            --accent-primary-hover: #B88A71;
            --shadow-color: rgba(224, 214, 199, 0.08); /* Light shadow for dark mode */
            --nav-bg: rgba(34, 30, 31, 0.85); /* Slightly transparent dark-bg for nav */
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
        }

        .top-nav-container {
            background-color: var(--nav-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-primary);
        }

        .sidebar-link img {
            filter: var(--sidebar-icon-filter, none);
        }
        .dark:root {
            --sidebar-icon-filter: brightness(0) invert(1);
        }
        .sidebar-link img {
            width: 1rem;
            height: 1rem;
            margin-right: 0.5rem;
            flex-shrink: 0;
        }
        .dark .sidebar-link img.filter-on-dark {
             filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(200%) contrast(100%);
        }
        /* Styling for blog post entries (from previous blog page version) */
        .blog-post-entry {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-primary);
            box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -2px var(--shadow-color);
            transition: background-color 0.3s ease-in-out, border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .blog-post-entry:hover {
             box-shadow: 0 10px 15px -3px var(--shadow-color), 0 4px 6px -4px var(--shadow-color);
        }
        /* Pagination styles (from previous blog page version) */
        .pagination-link {
            border: 1px solid var(--border-primary);
            color: var(--text-primary);
            transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
        }
        .pagination-link:hover:not(.disabled):not(.active) {
            background-color: var(--border-primary);
            color: var(--bg-primary); /* Text color on hover for contrast */
        }
        .pagination-link.active {
            background-color: var(--accent-primary);
            border-color: var(--accent-primary);
            color: var(--bg-primary); /* Ensure contrast on active accent */
        }
         .pagination-link.active:hover {
            background-color: var(--accent-primary-hover);
            border-color: var(--accent-primary-hover);
        }
        .pagination-link.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .pagination-ellipsis {
            color: var(--text-secondary);
        }
    </style>
</head>
<body class="font-inter leading-relaxed">

    <div id="navigation-container" class="sticky top-0 z-50 top-nav-container">
        </div>

    <div class="container mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pt-8 md:pt-12 pb-16">
        <div class="md:flex md:space-x-8">

            <div id="sidebar-container" class="md:w-[25%] lg:w-[22%] mb-12 md:mb-0 md:sticky md:top-24 md:self-start">
                </div>

            <main class="md:w-[75%] lg:w-[78%]">
                <h1 class="text-3xl md:text-4xl font-bold border-b-2 border-[var(--border-primary)] pb-4 mb-8 text-[var(--text-primary)]">Optics & Research Blog</h1>

                <div id="blog-posts-container" class="min-h-[300px] space-y-10">
                    </div>

                <nav id="pagination-container" aria-label="Blog post pagination" class="pagination-controls mt-12 flex justify-center items-center space-x-1 sm:space-x-2">
                    </nav>

                <footer class="text-center mt-16 pt-8 border-t border-[var(--border-primary)]">
                    <p class="text-sm text-[var(--text-secondary)]">&copy; 2025 Mohammad Al Baqer Alghezi. All rights reserved.</p>
                </footer>
            </main>
        </div>
    </div>

    <script>
        // --- Function to Render Navigation ---
        function renderNavigation(currentPage) {
            const navContainer = document.getElementById('navigation-container');
            if (!navContainer) return;

            const activeClasses = "ring-2 ring-[var(--accent-primary)]";
            const inactiveClasses = "hover:text-[var(--accent-primary)] hover:bg-[var(--border-primary)]/20";
            // URLs are absolute for GitHub Pages
            const navHTML = `
                <div class="container mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
                    <a href="https://baqerghezi.github.io/index.html" class="text-2xl font-bold text-[var(--text-primary)] hover:text-[var(--accent-primary)] transition-colors">
                        M. A. Alghezi
                    </a>
                    <div class="flex items-center space-x-2 sm:space-x-4">
                        <a href="https://baqerghezi.github.io/index.html" class="px-3 py-2 rounded-md text-sm font-medium text-[var(--text-primary)] transition-colors ${currentPage === 'home' ? activeClasses : inactiveClasses}">Home</a>
                        <a href="https://baqerghezi.github.io/blog.html" class="px-3 py-2 rounded-md text-sm font-medium text-[var(--text-primary)] transition-colors ${currentPage === 'blog' ? activeClasses : inactiveClasses}">Blog</a>
                        <a href="https://baqerghezi.github.io/mohammadcv.html" target="_blank" rel="noopener noreferrer" class="px-3 py-2 rounded-md text-sm font-medium text-[var(--text-primary)] transition-colors ${currentPage === 'cv' ? activeClasses : inactiveClasses}">CV</a>
                        <button id="theme-toggle" type="button" class="p-2 rounded-lg text-[var(--text-primary)] hover:bg-[var(--border-primary)]/30 focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] transition-colors">
                            <svg id="theme-toggle-dark-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21c3.978 0 7.44-2.03 9.002-5.002Z" /></svg>
                            <svg id="theme-toggle-light-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591" /></svg>
                            <span class="sr-only">Toggle theme</span>
                        </button>
                    </div>
                </div>
            `;
            navContainer.innerHTML = navHTML;
            const themeToggleBtn = document.getElementById('theme-toggle');
            if (themeToggleBtn) {
                 themeToggleBtn.addEventListener('click', () => {
                    const isCurrentlyDark = document.documentElement.classList.contains('dark');
                    applyTheme(!isCurrentlyDark);
                });
            }
        }

        // --- Function to Render Sidebar ---
        function renderSidebar() {
            const sidebarContainer = document.getElementById('sidebar-container');
            if (!sidebarContainer) return;
            const sidebarHTML = `
                <div class="p-6 rounded-xl border border-[var(--border-primary)] bg-[var(--bg-secondary)] shadow-lg">
                    <div class="text-center md:text-left mb-6">
                        <img src="photos/personal_photo.png"
                             alt="Headshot photo of Mohammad Al Baqer Alghezi"
                             class="w-28 h-28 rounded-full mx-auto md:mx-0 mb-4 border-4 border-[var(--accent-primary)] shadow-md object-cover"
                             onerror="this.onerror=null; this.src='https://placehold.co/112x112/A08C7D/4A3B31?text=M.A.A'; this.alt='Error loading profile photo';">
                        <h1 class="text-xl lg:text-2xl font-bold mb-1 text-[var(--text-primary)]">Mohammad Al Baqer Alghezi</h1>
                        <p class="text-sm md:text-base text-[var(--text-secondary)]">Optical Engineering PhD Student</p>
                    </div>
                    <nav class="border-t border-[var(--border-primary)] pt-6">
                        <h3 class="text-md font-bold mb-4 text-center md:text-left text-[var(--text-primary)]">Connect</h3>
                        <a href="mailto:alghezim1@udayton.edu" class="block w-full text-center bg-[var(--accent-primary)] text-white font-bold py-2.5 px-3 rounded-lg transition hover:bg-[var(--accent-primary-hover)] mb-4 text-xs md:text-sm shadow hover:shadow-md">
                            Email Me
                        </a>
                        <div class="space-y-2">
                            <a href="https://github.com/baqerghezi" class="sidebar-link flex items-center text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-medium hover:underline" target="_blank" rel="noopener noreferrer">
                                <img src="photos/github.png" alt="GitHub logo icon" class="filter-on-dark" onerror="this.style.display='none'">
                                <span class="text-xs md:text-sm">GitHub</span>
                            </a>
                            <a href="https://www.linkedin.com/in/baqerghezi/" class="sidebar-link flex items-center text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-medium hover:underline" target="_blank" rel="noopener noreferrer">
                                <img src="photos/Linkedin.png" alt="LinkedIn logo icon" class="filter-on-dark" onerror="this.style.display='none'">
                                <span class="text-xs md:text-sm">LinkedIn</span>
                            </a>
                            <a href="https://scholar.google.com/citations?user=hr7rSO4AAAAJ&hl=en&authuser=1" class="sidebar-link flex items-center text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-medium hover:underline" target="_blank" rel="noopener noreferrer">
                                <img src="photos/googlescholar.png" alt="Google Scholar logo icon" class="filter-on-dark" onerror="this.style.display='none'">
                                <span class="text-xs md:text-sm">Google Scholar</span>
                            </a>
                            <a href="https://www.instagram.com/ghezibaqer/" class="sidebar-link flex items-center text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-medium hover:underline" target="_blank" rel="noopener noreferrer">
                                <img src="photos/instgram.png" alt="Instagram logo icon" class="filter-on-dark" onerror="this.style.display='none'">
                                <span class="text-xs md:text-sm">Instagram</span>
                            </a>
                        </div>
                    </nav>
                </div>
            `;
            sidebarContainer.innerHTML = sidebarHTML;
        }

        // --- Theme Toggle Functionality (Global Scope for applyTheme) ---
        function applyTheme(isDark) {
            const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
            const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
            if (isDark) {
                document.documentElement.classList.add('dark');
                if (themeToggleDarkIcon) themeToggleDarkIcon.classList.remove('hidden');
                if (themeToggleLightIcon) themeToggleLightIcon.classList.add('hidden');
                localStorage.setItem('color-theme', 'dark');
            } else {
                document.documentElement.classList.remove('dark');
                if (themeToggleDarkIcon) themeToggleDarkIcon.classList.add('hidden');
                if (themeToggleLightIcon) themeToggleLightIcon.classList.remove('hidden');
                localStorage.setItem('color-theme', 'light');
            }
        }

        // --- Blog Post Specific JavaScript ---
        const blogPosts = [
           
            { title: "Place Holder", date: "2025-04-05", snippet: "=.", filename: "post-18.html" },
            
        ];
        const postsPerPage = 5;
        let blogCurrentPage = 1; 
        const structuredDataScriptId = 'blog-structured-data';

        function generateBlogPostHTML(post) {
            return `
                <article class="blog-post-entry p-6 rounded-xl">
                    <h2 class="text-2xl font-bold mb-2">
                        <a href="${post.filename}" class="text-[var(--text-primary)] hover:text-[var(--accent-primary)] transition-colors duration-200">${post.title}</a>
                    </h2>
                    <p class="blog-post-meta text-sm text-[var(--text-secondary)] mb-3">
                        Published on <time datetime="${post.date}">${new Date(post.date + 'T00:00:00').toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</time>
                    </p>
                    <div class="blog-post-snippet text-[var(--text-secondary)] mb-4">
                        <p>${post.snippet}</p>
                    </div>
                    <a href="${post.filename}" class="inline-block text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-semibold hover:underline text-sm transition-colors duration-200" aria-label="Read more about ${post.title}">
                        Read More &rarr;
                    </a>
                </article>
            `;
        }

        function updateStructuredData(postsToShow) {
            const existingScript = document.getElementById(structuredDataScriptId);
            if (existingScript) existingScript.remove();
            const script = document.createElement('script');
            script.id = structuredDataScriptId;
            script.type = 'application/ld+json';
            const blogPageCanonicalUrl = document.querySelector('link[rel="canonical"]').href;
            const blogSchema = {
                "@context": "https://schema.org", "@type": "Blog",
                "name": "Optics & Research Blog - Mohammad Al Baqer Alghezi",
                "description": document.querySelector('meta[name="description"]').content,
                "url": blogPageCanonicalUrl,
                "publisher": { "@type": "Person", "name": "Mohammad Al Baqer Alghezi" },
                "blogPost": postsToShow.map(post => ({
                    "@type": "BlogPosting", "headline": post.title,
                    "url": new URL(post.filename, blogPageCanonicalUrl).href,
                    "datePublished": post.date,
                    "author": { "@type": "Person", "name": "Mohammad Al Baqer Alghezi" },
                    "description": post.snippet,
                    "mainEntityOfPage": { "@type": "WebPage", "@id": new URL(post.filename, blogPageCanonicalUrl).href }
                }))
            };
            script.textContent = JSON.stringify(blogSchema, null, 2);
            document.head.appendChild(script);
        }

        function displayBlogPosts(page) {
            const postsContainer = document.getElementById('blog-posts-container');
            if (!postsContainer) return;
            blogCurrentPage = page;
            postsContainer.innerHTML = '';
            const startIndex = (page - 1) * postsPerPage;
            const endIndex = startIndex + postsPerPage;
            const paginatedPosts = blogPosts.slice(startIndex, endIndex);
            paginatedPosts.forEach(post => { postsContainer.innerHTML += generateBlogPostHTML(post); });
            updateStructuredData(paginatedPosts);
            setupBlogPagination();
        }

        function setupBlogPagination() {
            const paginationContainer = document.getElementById('pagination-container');
            if (!paginationContainer) return;
            paginationContainer.innerHTML = '';
            const pageCount = Math.ceil(blogPosts.length / postsPerPage);
            if (pageCount <= 1) return;

            function createPageLink(pageNumber, text, isEnabled = true, isCurrent = false, isEllipsis = false) {
                if (isEllipsis) {
                    const ellipsis = document.createElement('span');
                    ellipsis.innerHTML = '&hellip;';
                    ellipsis.className = 'pagination-ellipsis px-2 py-2 text-sm';
                    return ellipsis;
                }
                const link = document.createElement('a');
                link.href = '#';
                link.innerHTML = text;
                link.className = 'pagination-link px-3 py-2 sm:px-4 sm:py-2 text-sm font-medium rounded-md';
                if (!isEnabled) {
                    link.classList.add('disabled');
                } else {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        if (pageNumber === 'Prev') displayBlogPosts(blogCurrentPage - 1);
                        else if (pageNumber === 'Next') displayBlogPosts(blogCurrentPage + 1);
                        else displayBlogPosts(pageNumber);
                    });
                }
                if (isCurrent) link.classList.add('active');
                return link;
            }
            paginationContainer.appendChild(createPageLink('Prev', '&laquo; Prev', blogCurrentPage > 1));
            const maxVisiblePages = 5;
            if (pageCount <= maxVisiblePages) {
                for (let i = 1; i <= pageCount; i++) paginationContainer.appendChild(createPageLink(i, i, true, i === blogCurrentPage));
            } else {
                paginationContainer.appendChild(createPageLink(1, 1, true, 1 === blogCurrentPage));
                let rangeStart = Math.max(2, blogCurrentPage - 1), rangeEnd = Math.min(pageCount - 1, blogCurrentPage + 1);
                if (blogCurrentPage <= 3) { rangeStart = 2; rangeEnd = Math.min(pageCount - 1, 4); }
                else if (blogCurrentPage >= pageCount - 2) { rangeStart = Math.max(2, pageCount - 3); rangeEnd = pageCount - 1; }
                if (rangeStart > 2) paginationContainer.appendChild(createPageLink(null, null, false, false, true));
                for (let i = rangeStart; i <= rangeEnd; i++) paginationContainer.appendChild(createPageLink(i, i, true, i === blogCurrentPage));
                if (rangeEnd < pageCount - 1) paginationContainer.appendChild(createPageLink(null, null, false, false, true));
                paginationContainer.appendChild(createPageLink(pageCount, pageCount, true, pageCount === blogCurrentPage));
            }
            paginationContainer.appendChild(createPageLink('Next', 'Next &raquo;', blogCurrentPage < pageCount));
        }

        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            renderNavigation('blog'); 
            renderSidebar(); // Sidebar is now rendered again

            const preferredTheme = localStorage.getItem('color-theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (preferredTheme === 'dark' || (!preferredTheme && systemPrefersDark)) {
                applyTheme(true);
            } else {
                applyTheme(false);
            }

            if (document.getElementById('blog-posts-container') && document.getElementById('pagination-container')) {
                displayBlogPosts(1);
            }
        });
    </script>

</body>
</html>
