<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Optics & Photonics Insights - Mohammad Al Baqer Alghezi</title>
    <meta name="description" content="Explore blog posts by Mohammad Al Baqer Alghezi covering topics in optical engineering, photonics, PhD research, data analysis (Python/MATLAB), and technology trends.">
    <meta name="keywords" content="optics blog, photonics, electro-optics, optical engineering, PhD student, research, MATLAB, Python, data analysis, University of Dayton, Mohammad Al Baqer Alghezi">
    <link rel="canonical" href="https://your-domain.com/blog.html">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        /* Define color palette using CSS Custom Properties (Variables) */
        :root {
            --bg-primary: #F8F0E3; /* old-paper equivalent */
            --bg-secondary: #FFFFFF; /* For elements like cards or slightly off-main background areas */
            --text-primary: #4A3B31; /* dark-ink equivalent */
            --text-secondary: #6F5E53; /* Slightly lighter than primary text */
            --border-primary: #D1C0AF; /* Softer brown for borders */
            --accent-primary: #C08261;
            --accent-primary-hover: #A46A4E;
            --shadow-color: rgba(74, 59, 49, 0.1); /* Shadow based on dark-ink */
            --nav-bg: rgba(248, 240, 227, 0.85); /* Slightly transparent old-paper for nav */
        }

        .dark:root {
            --bg-primary: #221E1F; /* Dark background */
            --bg-secondary: #2d2829; /* Slightly lighter dark background for cards */
            --text-primary: #E0D6C7; /* Light ink for dark mode */
            --text-secondary: #B0A69A; /* Slightly darker light ink */
            --border-primary: #5A524C; /* Darker border for dark mode */
            --accent-primary: #D4A187; /* Lighter accent for dark mode */
            --accent-primary-hover: #B88A71;
            --shadow-color: rgba(224, 214, 199, 0.08); /* Light shadow for dark mode */
            --nav-bg: rgba(34, 30, 31, 0.85); /* Slightly transparent dark-bg for nav */
        }

        /* Apply base styles using variables */
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            line-height: 1.7; /* Increased for better readability */
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
        }

        /* Styling for blog post entries */
        .blog-post-entry {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-primary);
            box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -2px var(--shadow-color);
            transition: background-color 0.3s ease-in-out, border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .blog-post-entry:hover {
             box-shadow: 0 10px 15px -3px var(--shadow-color), 0 4px 6px -4px var(--shadow-color);
        }

        /* Pagination styles */
        .pagination-link {
            border: 1px solid var(--border-primary);
            color: var(--text-primary);
            transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
        }
        .pagination-link:hover:not(.disabled):not(.active) {
            background-color: var(--border-primary);
            color: var(--bg-primary); /* Text color on hover for contrast */
        }
        .pagination-link.active {
            background-color: var(--accent-primary);
            border-color: var(--accent-primary);
            color: var(--bg-primary); /* Ensure contrast on active accent */
        }
         .pagination-link.active:hover {
            background-color: var(--accent-primary-hover);
            border-color: var(--accent-primary-hover);
        }
        .pagination-link.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .pagination-ellipsis {
            color: var(--text-secondary);
        }
        .top-nav {
            background-color: var(--nav-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-primary);
        }
        .sidebar-link img {
            filter: var(--sidebar-icon-filter, none); /* For potential future dark mode icon adjustments */
        }
        .dark:root {
            --sidebar-icon-filter: brightness(0) invert(1); /* Example: Invert icons in dark mode if they are dark PNGs */
        }
         /* Ensure images in sidebar links are consistently sized and aligned */
        .sidebar-link img {
            width: 1rem; /* 16px */
            height: 1rem; /* 16px */
            margin-right: 0.5rem; /* 8px */
            flex-shrink: 0;
            /* If icons are dark and need to be white in dark mode, and they are simple enough: */
            /* In dark mode, you might need to apply a filter if they don't have transparent backgrounds */
        }
        .dark .sidebar-link img.filter-on-dark { /* Add this class to img tags if needed */
             filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(200%) contrast(100%);
        }


    </style>
</head>
<body class="font-inter leading-relaxed">

    <nav class="top-nav sticky top-0 z-50">
        <div class="container mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
            <a href="index.html" class="text-2xl font-bold text-[var(--text-primary)] hover:text-[var(--accent-primary)] transition-colors">
                M. A. Alghezi
            </a>
            <div class="flex items-center space-x-4">
                <a href="index.html" class="px-3 py-2 rounded-md text-sm font-medium text-[var(--text-primary)] hover:text-[var(--accent-primary)] hover:bg-[var(--border-primary)]/20 transition-colors">Home</a>
                <a href="blog.html" class="px-3 py-2 rounded-md text-sm font-medium text-[var(--text-primary)] hover:text-[var(--accent-primary)] hover:bg-[var(--border-primary)]/20 transition-colors ring-2 ring-[var(--accent-primary)]">Blog</a>
                <button id="theme-toggle" type="button" class="p-2 rounded-lg text-[var(--text-primary)] hover:bg-[var(--border-primary)]/30 focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] transition-colors">
                    <svg id="theme-toggle-dark-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21c3.978 0 7.44-2.03 9.002-5.002Z" /></svg>
                    <svg id="theme-toggle-light-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591" /></svg>
                    <span class="sr-only">Toggle theme</span>
                </button>
            </div>
        </div>
    </nav>

    <div class="container mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pt-8 md:pt-12 pb-16">
        <div class="md:flex md:space-x-8">

            <aside class="md:w-[25%] lg:w-[22%] mb-12 md:mb-0 md:sticky md:top-24 md:self-start">
                <div class="p-6 rounded-xl border border-[var(--border-primary)] bg-[var(--bg-secondary)] shadow-lg">
                    <div class="text-center md:text-left mb-6">
                        <img src="photos/personal_photo.png"
                             alt="Headshot photo of Mohammad Al Baqer Alghezi"
                             class="w-28 h-28 rounded-full mx-auto md:mx-0 mb-4 border-4 border-[var(--accent-primary)] shadow-md object-cover"
                             onerror="this.onerror=null; this.src='https://placehold.co/112x112/A08C7D/4A3B31?text=M.A.A'; this.alt='Error loading profile photo';">
                        <h1 class="text-xl lg:text-2xl font-bold mb-1 text-[var(--text-primary)]">Mohammad Al Baqer Alghezi</h1>
                        <p class="text-sm md:text-base text-[var(--text-secondary)]">Optical Engineering PhD Student</p>
                    </div>

                    <nav class="border-t border-[var(--border-primary)] pt-6">
                        <h3 class="text-md font-bold mb-4 text-center md:text-left text-[var(--text-primary)]">Connect</h3>
                        <a href="mailto:alghezim1@udayton.edu" class="block w-full text-center bg-[var(--accent-primary)] text-white font-bold py-2.5 px-3 rounded-lg transition hover:bg-[var(--accent-primary-hover)] mb-4 text-xs md:text-sm shadow hover:shadow-md">
                            Email Me
                        </a>
                        <div class="space-y-2">
                            <a href="https://github.com/baqerghezi" class="sidebar-link flex items-center text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-medium hover:underline" target="_blank" rel="noopener noreferrer">
                                <img src="photos/github.png" alt="GitHub" class="filter-on-dark" onerror="this.style.display='none'">
                                <span class="text-xs md:text-sm">GitHub</span>
                            </a>
                            <a href="https://www.linkedin.com/in/baqerghezi/" class="sidebar-link flex items-center text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-medium hover:underline" target="_blank" rel="noopener noreferrer">
                                <img src="photos/Linkedin.png" alt="LinkedIn" class="filter-on-dark" onerror="this.style.display='none'">
                                <span class="text-xs md:text-sm">LinkedIn</span>
                            </a>
                            <a href="#" class="sidebar-link flex items-center text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-medium hover:underline" target="_blank" rel="noopener noreferrer">
                                <img src="photos/googlescholar.png" alt="Google Scholar" class="filter-on-dark" onerror="this.style.display='none'">
                                <span class="text-xs md:text-sm">Google Scholar</span>
                            </a>
                            <a href="https://www.instagram.com/ghezibaqer/" class="sidebar-link flex items-center text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-medium hover:underline" target="_blank" rel="noopener noreferrer">
                                <img src="photos/instgram.png" alt="Instagram" class="filter-on-dark" onerror="this.style.display='none'">
                                <span class="text-xs md:text-sm">Instagram</span>
                            </a>
                        </div>
                    </nav>
                </div>
            </aside>

            <main class="md:w-[75%] lg:w-[78%]">
                <h1 class="text-3xl md:text-4xl font-bold border-b-2 border-[var(--border-primary)] pb-4 mb-8 text-[var(--text-primary)]">Optics & Research Blog</h1>

                <div id="blog-posts-container" class="min-h-[300px] space-y-10">
                    </div>

                <nav id="pagination-container" aria-label="Blog post pagination" class="pagination-controls mt-12 flex justify-center items-center space-x-1 sm:space-x-2">
                    </nav>

                <footer class="text-center mt-16 pt-8 border-t border-[var(--border-primary)]">
                    <p class="text-sm text-[var(--text-secondary)]">&copy; 2025 Mohammad Al Baqer Alghezi. All rights reserved.</p>
                </footer>
            </main>
        </div>
    </div>

    <script>
        // --- Theme Toggle Functionality ---
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
        const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

        // Function to apply theme and update icon
        function applyTheme(isDark) {
            if (isDark) {
                document.documentElement.classList.add('dark');
                themeToggleDarkIcon.classList.remove('hidden');
                themeToggleLightIcon.classList.add('hidden');
                localStorage.setItem('color-theme', 'dark');
            } else {
                document.documentElement.classList.remove('dark');
                themeToggleDarkIcon.classList.add('hidden');
                themeToggleLightIcon.classList.remove('hidden');
                localStorage.setItem('color-theme', 'light');
            }
        }

        // Check initial theme
        const preferredTheme = localStorage.getItem('color-theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (preferredTheme === 'dark' || (!preferredTheme && systemPrefersDark)) {
            applyTheme(true);
        } else {
            applyTheme(false);
        }

        // Listener for theme toggle button
        themeToggleBtn.addEventListener('click', () => {
            const isCurrentlyDark = document.documentElement.classList.contains('dark');
            applyTheme(!isCurrentlyDark);
        });

        // --- Blog Post Data ---
        const blogPosts = [
            // Posts are displayed newest first (based on order here).
            { title: "Junk Post 18", date: "2025-05-18", snippet: "This is the snippet for junk post 18...", filename: "post-18.html" },
            { title: "Junk Post 17", date: "2025-05-17", snippet: "This is the snippet for junk post 17...", filename: "post-17.html" },
            { title: "Junk Post 16", date: "2025-05-16", snippet: "This is the snippet for junk post 16...", filename: "post-16.html" },
            { title: "Junk Post 15", date: "2025-05-15", snippet: "This is the snippet for junk post 15...", filename: "post-15.html" },
            { title: "Junk Post 14", date: "2025-05-14", snippet: "This is the snippet for junk post 14...", filename: "post-14.html" },
            { title: "Junk Post 13", date: "2025-05-13", snippet: "This is the snippet for junk post 13...", filename: "post-13.html" },
            { title: "Junk Post 12", date: "2025-05-12", snippet: "This is the snippet for junk post 12...", filename: "post-12.html" },
            { title: "Junk Post 11", date: "2025-05-11", snippet: "This is the snippet for junk post 11...", filename: "post-11.html" },
            { title: "Junk Post 10", date: "2025-05-10", snippet: "This is the snippet for junk post 10...", filename: "post-10.html" },
            { title: "Junk Post 9", date: "2025-05-09", snippet: "This is the snippet for junk post 9...", filename: "post-9.html" },
            { title: "Junk Post 8", date: "2025-05-08", snippet: "This is the snippet for junk post 8...", filename: "post-8.html" },
            { title: "Junk Post 7", date: "2025-05-07", snippet: "This is the snippet for junk post 7...", filename: "post-7.html" },
            { title: "Junk Post 6", date: "2025-05-06", snippet: "This is the snippet for junk post 6...", filename: "post-6.html" },
            { title: "Junk Post 5", date: "2025-05-05", snippet: "This is the snippet for junk post 5...", filename: "post-5.html" },
            {
                title: "Understanding Fourier Optics: A Practical Introduction",
                date: "2025-05-04",
                snippet: "Fourier optics is a cornerstone of optical engineering, providing a powerful framework for analyzing how light propagates and interacts with optical systems. In this post, we'll break down the fundamental concepts and explore some practical applications using Python simulations...",
                filename: "post-1.html"
            },
            {
                title: "Tips for Effective Data Visualization in MATLAB",
                date: "2025-04-20",
                snippet: "Presenting research data clearly is crucial. While MATLAB offers extensive plotting capabilities, creating truly effective visualizations requires thoughtful design. Here are some tips and tricks I've learned for making your MATLAB plots more informative and visually appealing...",
                filename: "post-2.html"
            },
            {
                title: "Navigating PhD Life: Balancing Research and Well-being",
                date: "2025-04-05",
                snippet: "Embarking on a PhD journey is exciting but demanding. Finding a sustainable balance between intensive research work and personal well-being is key to success and avoiding burnout. This post shares some personal reflections and strategies...",
                filename: "post-3.html"
            },
            { title: "Junk Post 4", date: "2025-04-01", snippet: "This is the snippet for junk post 4...", filename: "post-4.html" },
        ];

        // --- Pagination Settings ---
        const postsPerPage = 5;
        let currentPage = 1;

        // --- DOM Elements ---
        const postsContainer = document.getElementById('blog-posts-container');
        const paginationContainer = document.getElementById('pagination-container');
        const structuredDataScriptId = 'blog-structured-data';

        // --- Function to Generate Single Blog Post HTML ---
        function generateBlogPostHTML(post) {
            return `
                <article class="blog-post-entry p-6 rounded-xl">
                    <h2 class="text-2xl font-bold mb-2">
                        <a href="${post.filename}" class="text-[var(--text-primary)] hover:text-[var(--accent-primary)] transition-colors duration-200">${post.title}</a>
                    </h2>
                    <p class="blog-post-meta text-sm text-[var(--text-secondary)] mb-3">
                        Published on <time datetime="${post.date}">${new Date(post.date + 'T00:00:00').toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</time>
                    </p>
                    <div class="blog-post-snippet text-[var(--text-secondary)] mb-4">
                        <p>${post.snippet}</p>
                    </div>
                    <a href="${post.filename}" class="inline-block text-[var(--accent-primary)] hover:text-[var(--accent-primary-hover)] font-semibold hover:underline text-sm transition-colors duration-200" aria-label="Read more about ${post.title}">
                        Read More &rarr;
                    </a>
                </article>
            `;
        }

        // --- SEO: Function to Update Structured Data ---
        function updateStructuredData(postsToShow) {
            const existingScript = document.getElementById(structuredDataScriptId);
            if (existingScript) {
                existingScript.remove();
            }

            const script = document.createElement('script');
            script.id = structuredDataScriptId;
            script.type = 'application/ld+json';

            // Use the canonical URL of the blog page as the base for post URLs
            const blogPageCanonicalUrl = document.querySelector('link[rel="canonical"]').href;

            const blogSchema = {
                "@context": "https://schema.org",
                "@type": "Blog",
                "name": "Optics & Research Blog - Mohammad Al Baqer Alghezi",
                "description": document.querySelector('meta[name="description"]').content,
                "url": blogPageCanonicalUrl, // Use the canonical URL for the blog itself
                "publisher": {
                    "@type": "Person",
                    "name": "Mohammad Al Baqer Alghezi"
                },
                "blogPost": postsToShow.map(post => ({
                    "@type": "BlogPosting",
                    "headline": post.title,
                    // Construct absolute URL for the post using the blog page's canonical URL as base
                    "url": new URL(post.filename, blogPageCanonicalUrl).href,
                    "datePublished": post.date,
                    "author": { "@type": "Person", "name": "Mohammad Al Baqer Alghezi" },
                    "description": post.snippet,
                    "mainEntityOfPage": {
                        "@type": "WebPage",
                        // Construct absolute URL for the post's main entity page
                        "@id": new URL(post.filename, blogPageCanonicalUrl).href
                    }
                }))
            };
            script.textContent = JSON.stringify(blogSchema, null, 2);
            document.head.appendChild(script);
        }

        // --- Function to Display Posts for a Specific Page ---
        function displayPosts(page) {
            if (!postsContainer) return;

            currentPage = page;
            postsContainer.innerHTML = ''; // Clear previous posts

            const startIndex = (page - 1) * postsPerPage;
            const endIndex = startIndex + postsPerPage;
            const paginatedPosts = blogPosts.slice(startIndex, endIndex);

            paginatedPosts.forEach(post => {
                postsContainer.innerHTML += generateBlogPostHTML(post);
            });

            updateStructuredData(paginatedPosts);
            setupPagination();
            window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll to top on page change
        }

        // --- Function to Setup Pagination Controls ---
        function setupPagination() {
            if (!paginationContainer) return;

            paginationContainer.innerHTML = '';
            const pageCount = Math.ceil(blogPosts.length / postsPerPage);

            if (pageCount <= 1) return;

            function createPageLink(pageNumber, text, isEnabled = true, isCurrent = false, isEllipsis = false) {
                if (isEllipsis) {
                    const ellipsis = document.createElement('span');
                    ellipsis.innerHTML = '&hellip;';
                    ellipsis.className = 'pagination-ellipsis px-2 py-2 text-sm';
                    ellipsis.setAttribute('aria-hidden', 'true');
                    return ellipsis;
                }

                const link = document.createElement('a');
                link.href = '#';
                link.innerHTML = text;
                link.className = 'pagination-link px-3 py-2 sm:px-4 sm:py-2 text-sm font-medium rounded-md';
                link.setAttribute('aria-label', pageNumber === 'Prev' || pageNumber === 'Next' ? `Go to ${pageNumber.toLowerCase()} page` : `Go to page ${pageNumber}`);

                if (!isEnabled) {
                    link.classList.add('disabled');
                    link.setAttribute('aria-disabled', 'true');
                } else {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        if (pageNumber === 'Prev') displayPosts(currentPage - 1);
                        else if (pageNumber === 'Next') displayPosts(currentPage + 1);
                        else displayPosts(pageNumber);
                    });
                }
                if (isCurrent) {
                    link.classList.add('active');
                    link.setAttribute('aria-current', 'page');
                }
                return link;
            }

            // Previous Button
            paginationContainer.appendChild(createPageLink('Prev', '&laquo; Prev', currentPage > 1));

            // Page Number Links (with Ellipsis logic)
            const maxVisiblePages = 5; // Includes first, last, current, and two others or ellipses
            if (pageCount <= maxVisiblePages) {
                for (let i = 1; i <= pageCount; i++) {
                    paginationContainer.appendChild(createPageLink(i, i, true, i === currentPage));
                }
            } else {
                // Always show first page
                paginationContainer.appendChild(createPageLink(1, 1, true, 1 === currentPage));

                let rangeStart = Math.max(2, currentPage - 1);
                let rangeEnd = Math.min(pageCount - 1, currentPage + 1);

                if (currentPage <= 3) { // Near the beginning
                    rangeStart = 2;
                    rangeEnd = Math.min(pageCount -1, 4);
                } else if (currentPage >= pageCount - 2) { // Near the end
                    rangeStart = Math.max(2, pageCount - 3);
                    rangeEnd = pageCount - 1;
                }
                
                if (rangeStart > 2) {
                    paginationContainer.appendChild(createPageLink(null, null, false, false, true)); // Ellipsis
                }

                for (let i = rangeStart; i <= rangeEnd; i++) {
                    paginationContainer.appendChild(createPageLink(i, i, true, i === currentPage));
                }

                if (rangeEnd < pageCount - 1) {
                     paginationContainer.appendChild(createPageLink(null, null, false, false, true)); // Ellipsis
                }
                // Always show last page
                paginationContainer.appendChild(createPageLink(pageCount, pageCount, true, pageCount === currentPage));
            }

            // Next Button
            paginationContainer.appendChild(createPageLink('Next', 'Next &raquo;', currentPage < pageCount));
        }

        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            if (postsContainer && paginationContainer) {
                displayPosts(1); // Display the first page initially
            } else {
                console.error("Blog post container or pagination container not found!");
            }
        });
    </script>

</body>
</html>
